	<!-- Welcome to the MusicBuddy website -->



	<!-- Head of MusicBuddy -->
<head>
		<!-- Creating the Title of the page -->
  <title>MusicBuddy</title>
 		<!-- Adding jquery and bootstrapp -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>
	<!-- End of the head -->



	<!-- First the layout template which will be rendered on all the routes -->
<template name="layout">
	<div id="main">
					<!-- The navbar -->
		<nav class="navbar navbar-inverse navbar-fixed-top">
		  <div class="container-fluid">
					<!-- Here is the Header, title of the website and home page link-->
				<div class="navbar-header">
					<a class="navbar-brand" href="/">Welcome to Music Buddy!</a>
				</div>
					<!-- Now the links for the five mainTabs-->
				<ul class="nav navbar-nav">
					<li><a href="/General">General</a></li>
					<li><a href="/Instruments">Instruments</a></li>
					<li><a href="/Theory">Theory</a></li>
					<li><a href="/BuddyBands">BuddyBands</a></li>
					<li><a href="/NewTopic" class="js-add-topic">New topic <span class="glyphicon glyphicon-plus"></span></a></li>
				</ul>
					<!-- Now the sign-in form for users who want to be able to contribute -->
				<ul class="nav navbar-nav navbar-right">
					<!-- We want it to the full right so it must be read before the search tool -->
					<li><p class="navbar-text"><span class="glyphicon glyphicon-user"></span> {{> loginButtons align="right"}}</p></li>
				</ul>		
					<!-- Now the searchTool to find directly a keyword-related topic -->
				<form class="navbar-form navbar-right" action="/action_page.php">
				  <div class="input-group">
					<a href="/Search"><input id="search" type="text" class="form-control" placeholder="Search..."></a>
					<div class="input-group-btn">
					  <a href="/Search"></a>
					</div>
				  </div>
				</form>
					<!-- End of the searchTool -->
		  </div>
					<!-- End of the navBar -->
		</nav>
					<!-- Now to yield the homepage layout -->
		{{> yield}}
	</div>
</template>
	<!-- End of the Layout template -->



		<!-- This is the sideNav part, with it's latest updated topic list -->

	<!-- Now the sideNav template that is not rendered on every route -->
<template name="sideNav">
	<div id="mySideNav" class="sideNav">
				<!-- First the close button, that will appear when mySideNav is active -->
		<span class="closeNav">&times;</span>
				<!-- Now all the links for all the latest topics and modifications added by users -->
				{{#each topics}}
					<p>{{> sideNavTopic}}</p>
				{{/each}}
	</div>
				<!-- Now the open button -->
	<div>
		<span style="font-size:30px;cursor:pointer" class="openNav">&#9776;</span>
	</div>
</template>
	<!-- End of sideNav template -->

	<!-- The sindenav topic template -->
<template name="sideNavTopic">
	<div class="scrollingPartSideNav">
		<a href="/{{category}}/{{_id}}">
			<p><b>Title: </b>{{title}}</p>
		</a>
			<p><b>Created on: </b>{{createdAt}}</p>
			<p><b>Description: </b>{{description}}</p>
			<p><b>Category: </b>{{category}}</p>
<!-- Here an if statement for the comments or not or new topic banner -->
			{{#each comments}}
				{{>lastComment}}
			{{/each}}
	</div>
	<hr class="dotted">
</template>
	<!-- End of the sideNav topic template -->



	<!-- Now the searchTool route --> 
<template name="search">
		<!-- Now the template for the latest changes done to the database -->
<!--!!!!!!! Two classes ? !!!!!!!-->
	<div class="fixedPart">
	<!-- Now to iterate every topics of the database by calling the topic template -->
		<h1>Here are your search results!</h1>
		<p>You have {{resultCount}} results!</p>
	<!-- A separator to separate the homepage to the newsFeed (check css too) -->
		<hr class="solid">
	</div>
	<div class="scrollingPart searchScroll">
		<ul>
			{{#each topics}}
				{{>topic}}
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the searchTool route -->



		<!-- Here are the main routes -->
		
	<!-- First the route for the homePage -->
<template name="home">
		<!-- Here is the fixed part -->
	<div class="fixedPart">
			<h1>Welcome, Music Buddy!</h1>
			<p>Tout d'abord le texte de bienvenue</p>
			<p>Feel free to go through the existing conversations and topics!</p>
			<p>But remember you must login if you want to contribute to any topic or create a new one!</p>
			<p>What can you do now ? 4 choices, or sign in if your new !</p>
			<p>Don't worry, it's free :)</p>
			<hr class="dashed">			
						<!-- Now to create the grid indicating the users possibilities -->
			<div class="gridContainer">
						<!-- Now to create the 4 columns with a css class for them too -->
					<div class="gridItem">
						<a href="/General">General</a>
						<p>Description of what happens here blablablabla</p>
						<p>Maybe a nice image as well</p>
					</div>
					<div class="gridItem">
						<a href="/Instruments">Instruments</a>
						<p>Description of what happens here blablablabla</p>
						<p>Maybe a nice image as well</p>
					</div>
					<div class="gridItem">
						<a href="/Theory">Theory</a>
						<p>Description of what happens here blablablabla</p>
						<p>Maybe a nice image as well</p>
					</div>
					<div class="gridItem">
						<a href="/BuddyBands">Buddy Bands</a>
						<p>Description of what happens here blablablabla</p>
						<p>Maybe a nice image as well</p>
					</div>
				<!-- Ending the container of the grid -->
			</div>
		<hr class="solid">
			<!-- The title for the newsFeed below -->
		<h1>Latest updated topics</h1>
		<!-- End of the fixedPart div for the homePage -->
	</div>
		<!-- Here is the scrolling part containing the newsFeed -->
	<div class="scrollingPart homeScroll">
		{{> newsFeed}}
	</div>
</template>
	<!-- End of the "home" template -->

	<!-- Now to create the template for the newsFeed for the homePage --> 
<template name="newsFeed">
		<ul>
<!-- For styling, must pu different colors for every ninth child etc. -->
			{{#each topics}}
			<div>{{> topic}}</div>
			{{/each}}
		</ul>
</template>
	<!-- End of the news feed -->
	
	<!-- Finally the topic template for each topic in the newsFeed-->
<template name="topic">
	<p><b>Title: </b><a href="/{{category}}/{{_id}}">{{title}}</a></p>
	<p><b>Category: </b>{{category}}</p>
	<p><b>User: </b>{{getUser createdBy}}</p>
	<p><b>Created on: </b>{{createdAt}}</p>
	<p><b>Description:</b></p>
	<p>{{description}}</p>
	<p>	
		<ul>
			{{#each comments}}
				{{> lastComment}}
			{{/each}}
		</ul>
	</p>
	<hr class="dotted">
</template>
	<!-- Here is the end of the newsFeed for the homepage -->

	<!-- The lastComment template to complete the topic template and the newsFeed -->
<template name="lastComment">
	<p><b>Latest comment: </b>{{commentary}}</p>
	<p><b>User: </b>{{createdBy}}</p>
	<p><b>Created on: </b>{{createdAt}}</p>
</template>
	<!-- End of the lastComment template -->



		<!-- Now we have the main routes templates -->
		
	<!-- Now to create the general discussions template! -->
<template name="general">
	{{>sideNav}}
	<div class="fixedPart">
		<h1>General</h1>
		<p>Here you can team up with other Buddys and create physical or virtual bands together, organise gigs and do all kind of community music!</p>
		<p>Do you want to create a jazz band and no one in you home town plays jazz?</p>
		<p>Missing a drummer in your existing band?</p>
		<p>Or simply wanting to build up a band with other musicians that share your insight of music?</p>
		<p>This section is for you! Enjoy! :)</p>
		<hr class="dashed">
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				{{> topic}}
			{{/each}}
		</ul>
	</div>
<!-- !!!!!!! Something to do here too !!!!!!!
	{{#if noMoreItem}} and back to top !
	<span>No more topics to show!</span>
	{{/if}} -->
</template>
	<!-- End of the general discussions template -->



	<!-- Now to the instruments discussions template! -->
<template name="instruments">
	{{>sideNav}}
	<div class="fixedPart">
		<h1>Instruments</h1>
		<p>Here you can team up with other Buddys and create physical or virtual bands together, organise gigs and do all kind of community music!</p>
		<p>Do you want to create a jazz band and no one in you home town plays jazz?</p>
		<p>Missing a drummer in your existing band?</p>
		<p>Or simply wanting to build up a band with other musicians that share your insight of music?</p>
		<p>This section is for you! Enjoy! :)</p>
		<hr class="dashed">
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				{{> topic}}
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the instruments discussions template -->



	<!-- Now to create the music theory discussions template! -->
<template name="theory">
	{{>sideNav}}
	<div class="fixedPart">
		<h1>Theory</h1>
		<p>Here you can team up with other Buddys and create physical or virtual bands together, organise gigs and do all kind of community music!</p>
		<p>Do you want to create a jazz band and no one in you home town plays jazz?</p>
		<p>Missing a drummer in your existing band?</p>
		<p>Or simply wanting to build up a band with other musicians that share your insight of music?</p>
		<p>This section is for you! Enjoy! :)</p>
		<hr class="dashed">
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				{{> topic}}
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the music theory discussions template -->



	<!-- Now to create the buddy bands discussions template! -->
<template name="buddybands">
	{{>sideNav}}
	<div class="fixedPart">
		<h1>BuddyBands</h1>
		<p>Here you can team up with other Buddys and create physical or virtual bands together, organise gigs and do all kind of community music!</p>
		<p>Do you want to create a jazz band and no one in you home town plays jazz?</p>
		<p>Missing a drummer in your existing band?</p>
		<p>Or simply wanting to build up a band with other musicians that share your insight of music?</p>
		<p>This section is for you! Enjoy! :)</p>
		<hr class="dashed">
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				{{> topic}}
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the buddy bands discussions template -->



	<!-- Now to create the new topic template! -->
<template name="newTopic">
	<div class="fixedPart">
			<h1> Here you can create your new topic !</h1>
		<!-- Here is the form to update the topics database with new topics -->
			<br>
			<form>
				<label for="topic-title">Please enter a title for you new Music Buddy topic: </label>
				<input id="topic-title" type="text" name="title" placeholder="Type to add a new topic" size="50"/>
				<br>
				<br>
				<label for="topic-content" style="vertical-align:middle">You can now enter your subject brief description: </label>
				<textarea id="topic-content" type="text" name="description" placeholder="Please enter your description" rows="10" cols="52"></textarea>
				<br>
				<br>
				  <label for="category">Choose a category for your topic:</label>
				  <select id="category" name="category">
					<option value="General" id="1">General</option>
					<option value="Instruments" id="2">Instruments</option>
					<option value="Theory" id="3">Theory</option>
					<option value="BuddyBands" id="4">BuddyBands</option>
				  </select>
				<br>
				<br>
				<button class="new-topic btn btn-info">Create!</button>
<!-- We still need the alert -->
			</form>
			<br>
			<br>
			<br>
			<p>Not sure what category you want to assign your topic to? No worries!</p>
			<p>Here is a brief reminder of them:</p>
			<p>And if you are not sure yet, just choose "general" ;-)</p> 
<!-- We'll have to remove these br -->
		<br>
		<br>
			<!-- Here we have 4 columns to help the user if he is unsure bout the category -->
		<div class="gridContainer">
			<div class="gridItem">
				<a href="/General">General</a>
				<p>Description of what happens here blablablabla</p>
				<p>Maybe a nice image as well</p>
			</div>
			<div class="gridItem">
				<a href="/Instruments">Instruments</a>
				<p>Description of what happens here blablablabla</p>
				<p>Maybe a nice image as well</p>
			</div>
			<div class="gridItem">
				<a href="/Theory">Theory</a>
				<p>Description of what happens here blablablabla</p>
				<p>Maybe a nice image as well</p>
			</div>
			<div class="gridItem">
				<a href="/BuddyBands">Buddy Bands</a>
				<p>Description of what happens here blablablabla</p>
				<p>Maybe a nice image as well</p>
			</div>
		</div>
	</div>
</template>
	<!-- End of the newTopic template -->



	<!-- Beginning of the singleTopic template that will be the same for every topic created -->
<template name="singleTopic">
	{{>sideNav}}
	<div class="fixedPart">
			<!-- First a quick sum up of the single topic selected -->
		<div>
			<h1>{{title}}</h1>
			<hr class="solid">
			<h4>Category: {{category}}</h4>
			<p>Date of creation: {{createdAt}}</p>
			<p>Created by: {{getUser createdBy}}</p>
<!-- We need an if statement for the owner to be able to change the description (collection update) -->
			<p>Description: {{description}}</p>
			<hr class="dashed">
		</div>
			<!-- In second the comment form -->
		<h3>Comments:</h3>
		<form>
			<label for="topic-comment" style="vertical-align:middle">Feel free to add a comment: </label>
			<textarea id="topic-comment" type="text" class="new-comment" name="commentary" placeholder="Please enter your comment here" rows="5" cols="42"></textarea>
			<button class="new-comment btn btn-info">Send!</button>
		</form>
	</div>
			<!-- Finally all the comments for this single topic -->
	<div class="scrollingPart singleTopicScroll">
	{{> commentFeed}}
	</div>
</template>
	<!-- End of the singleTopic template -->

	<!-- Then the comment list -->
<template name="commentFeed">
	<!-- Now to iterate every topics of the database by calling the topic template -->
	<ul>
		{{#each comments}}
			{{> comment}}
		{{/each}}
	</ul>
</template>

	<!-- Now the comment template for the comment list above -->
<template name="comment">
	<p><b>User: </b>{{createdBy}}</p>
	<p><b>Created on: </b>{{createdAt}}</p>
	<p><b>Comment:</b></p>
	<p>{{commentary}}</p>
	<hr class="dotted">
</template>
	<!-- End of the comment template and of the single topic group of templates -->

















<!-- End of the MusicBuddy HTML code -->