<!-- Welcome to the MusicBuddy website -->



	<!-- Head of MusicBuddy -->
<head>
		<!-- Creating the Title of the page -->
  <title>MusicBuddy</title>
 		<!-- Adding jquery and bootstrapp -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>
	<!-- End of the head -->



	<!-- First the layout template which will be rendered on all the routes -->
<template name="layout">
	<div id="main">
					<!-- The navbar -->
		<nav class="navbar navbar-inverse navbar-fixed-top">
		  <div class="container-fluid">
					<!-- Here is the Header, title of the website and home page link-->
				<div class="navbar-header">
					<a class="navbar-brand" href="/">Welcome to Music Buddy!</a>
				</div>
					<!-- Now the links for the five mainTabs-->
				<ul class="nav navbar-nav">
					<li><a href="/General">General</a></li>
					<li><a href="/Instruments">Instruments</a></li>
					<li><a href="/Theory">Theory</a></li>
					<li><a href="/BuddyBands">BuddyBands</a></li>
					<li><a href="/NewTopic" class="js-add-topic">New topic <span class="glyphicon glyphicon-plus"></span></a></li>
				</ul>
					<!-- Now the sign-in form for users who want to be able to contribute -->
				<ul class="nav navbar-nav navbar-right">
					<!-- We want it to the full right so it must be read before the search tool -->
					<li><p class="navbar-text"><span class="glyphicon glyphicon-user"></span> {{> loginButtons align="right"}}</p></li>
				</ul>		
					<!-- Now the searchTool to find directly a keyword-related topic -->
				<form class="navbar-form navbar-right" action="/action_page.php">
				  <div class="input-group">
					<a href="/Search"><input id="search" type="text" class="form-control" placeholder="Search..."></a>
					<div class="input-group-btn">
					  <a href="/Search"></a>
					</div>
				  </div>
				</form>
					<!-- End of the searchTool -->
		  </div>
					<!-- End of the navBar -->
		</nav>
					<!-- Now to yield the homepage layout -->
		{{> yield}}
	</div>
</template>
	<!-- End of the Layout template -->



		<!-- This is the sideNav part, with it's latest updated topic list -->

	<!-- Now the sideNav template with all the latests topics and latest comment associated if any -->
<template name="sideNav">
	<span class="closeNav">&times;</span>
	<div id="mySideNav" class="sideNav">
		{{#each topics}}
			{{> sideNavTopic}}
		{{/each}}
	</div>
	<span style="font-size:30px;cursor:pointer" class="openNav">&#9776;</span>
</template>
	<!-- End of sideNav template -->

	<!-- The sideNavTopic template -->
<template name="sideNavTopic">
	<div class="scrollingPartSideNav">
		<div class="sideNavTopics">
			<a class="sideNavLinks" href="/{{category}}/{{_id}}">
			<p><b>Title: </b>{{title}}</p>
			<p><b>Created on: </b>{{createdAt}}</p> <!-- getDate --> 
			<p><b>Description: </b>{{description}}</p>
			<p><b>Category: </b>{{category}}</p></a>
		</div>
<!-- Here an if statement for the comments or not or new topic banner -->
			{{#each comments}}
				{{>sideNavLastComment}}
			{{/each}}
	</div>
	<hr class="dotted">
</template>
	<!-- End of the sideNavTopic template -->

	<!-- The sideNavLastComment template to complete the sideNavTopic template -->
<template name="sideNavLastComment">
	<div class="sideNavComments">
		<p><b>Latest comment: </b>{{commentary}}</p>
		<p><b>From: </b>{{createdBy}}</p>
	</div>
</template>
	<!-- End of the sideNavLastComment template -->



	<!-- Now the searchTool route --> 
<template name="search">
	<div class="fixedPart">
		<h3>You have {{resultCount}} results!</h3>
	</div>
	<div class="scrollingPart searchScroll">
		<ul>
			{{#each topics}}
				<div class="eachTopic">
					{{> topic}}
				</div>
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the searchTool route -->



		<!-- Here is the home routes with the homepage template and it's associated sub-templates -->
		
	<!-- First the route for the homePage -->
<template name="home">
	<div class="fixedPart">
		<h1>MusicBuddy!</h1>
		<div class="gridContainer">
			<div class="gridItem">
				<a href="/General">
					<p class="imgTitle">General</p>
					<p class="imgText">A selection of general discussions topics</p>
					<img src="General-phillip-blocker-b9CcBwmq30c-unsplash.jpg">
				</a>
			</div>
			<div class="gridItem">
				<a href="/Instruments">
					<p class="imgTitle">Instruments</p>
					<p class="imgText">Instrument focused topics</p>
					<img src="Instruments-derick-daily-4m4FR5Utw8w-unsplash.jpg">
				</a>
			</div>
			<div class="gridItem">
				<a href="/Theory" class="aa">
					<p class="imgTitle">Theory</p>
					<p class="imgText">Music theory topics and </p>
					<img src="Theory-marius-masalar-rPOmLGwai2w-unsplash.jpg">
				</a>
			</div>
			<div class="gridItem">
				<a href="/BuddyBands">
					<p class="imgTitle">BuddyBands</p>
					<p class="imgText">A selection of general discussions topics</p>
					<img src="BuddyBands-john-matychuk-gUK3lA3K7Yo-unsplash.jpg">
				</a>
			</div>
		</div>
		<h2>Latest topics</h2>
	</div>
	<div class="scrollingPart homeScroll">
		{{> newsFeed}}
	</div>
</template>
	<!-- End of the "home" template -->

	<!-- Now to create the template for the newsFeed for the homePage --> 
<template name="newsFeed">
	{{#each topics}}
		<div class="eachTopic">
			{{> topic}}
		</div>
	{{/each}}
</template>
	<!-- End of the news feed -->
	
	<!-- Finally the topic template for each topic in the newsFeed-->
<template name="topic">
	<p><b>Title: </b><a href="/{{category}}/{{_id}}">{{title}}</a></p>
	<p><b>Category: </b>{{category}}</p>
	<p><b>User: </b>{{getUser createdBy}}</p>
	<p><b>Created on: </b>{{createdAt}}</p>
	<p><b>Description:</b></p>
	<p>{{description}}</p>
	{{#each comments}}
		{{> lastComment}}
	{{/each}}
</template>
	<!-- Here is the end of the newsFeed for the homepage -->

	<!-- The lastComment template to complete the topic template and the newsFeed -->
<template name="lastComment">
	<p><b>Latest comment: </b>{{commentary}}</p>
	<p><b>User: </b>{{createdBy}}</p>
	<p><b>Created on: </b>{{createdAt}}</p>
</template>
	<!-- End of the lastComment template -->



		<!-- Now we have the mainTab routes templates -->
		
	<!-- First the general discussions template! -->
<template name="general">
	{{>sideNav}}
	<div class="fixedPart">
		<div class="fixedGrid">	
			<div>
				<img class="leftImage" src="symphony5_1.png">
			</div>
			<div>
				<h1 class="fixedGridTitle">General</h1>
			</div>
			<div>
				<img class="rightImage" src="symphony5_2.png">
			</div>
		</div>
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				<div class="eachTopic">
					{{> topic}}
				</div>
			{{/each}}
		</ul>
	</div>
<!-- !!!!!!! Something to do here too !!!!!!!
	{{#if noMoreItem}} and back to top !
	<span>No more topics to show!</span>
	{{/if}} -->
</template>
	<!-- End of the general discussions template -->



	<!-- Now to the instruments discussions template! -->
<template name="instruments">
	{{>sideNav}}
	<div class="fixedPart">
		<div class="fixedGrid">	
			<div>
				<img class="leftImage" src="symphony5_1.png">
			</div>
			<div>
				<h1 class="fixedGridTitle">Instruments</h1>
			</div>
			<div>
				<img class="rightImage" src="symphony5_2.png">
			</div>
		</div>
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				<div class="eachTopic">
					{{> topic}}
				</div>
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the instruments discussions template -->



	<!-- Now to create the music theory discussions template! -->
<template name="theory">
	{{>sideNav}}
	<div class="fixedPart">
		<div class="fixedGrid">	
			<div>
				<img class="leftImage" src="symphony5_1.png">
			</div>
			<div>
				<h1 class="fixedGridTitle">Theory</h1>
			</div>
			<div>
				<img class="rightImage" src="symphony5_2.png">
			</div>
		</div>
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				<div class="eachTopic">
					{{> topic}}
				</div>
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the music theory discussions template -->



	<!-- Now to create the buddy bands discussions template! -->
<template name="buddybands">
	{{>sideNav}}
	<div class="fixedPart">
		<div class="fixedGrid">	
			<div>
				<img class="leftImage" src="symphony5_1.png">
			</div>
			<div>
				<h1 class="fixedGridTitle">BuddyBands</h1>
			</div>
			<div>
				<img class="rightImage" src="symphony5_2.png">
			</div>
		</div>
	</div>
	<div class="scrollingPart tabScroll">
		<ul>
			{{#each topics}}
				<div class="eachTopic">
					{{> topic}}
				</div>
			{{/each}}
		</ul>
	</div>
</template>
	<!-- End of the buddy bands discussions template -->



	<!-- Now to create the new topic template! -->
<template name="newTopic">
	<div class="fixedPart fixedPartNewTopic">
		<div class="gridContainer">
			<div class="gridItem">
				<a href="/General">
					<p class="imgTitle">General</p>
					<p class="imgText">A selection of general discussions topics</p>
					<img src="General-phillip-blocker-b9CcBwmq30c-unsplash.jpg">
				</a>
			</div>
			<div class="gridItem">
				<a href="/Instruments">
					<p class="imgTitle">Instruments</p>
					<p class="imgText">Instrument focused topics</p>
					<img src="Instruments-derick-daily-4m4FR5Utw8w-unsplash.jpg">
				</a>
			</div>
			<div class="gridItem">
				<a href="/Theory" class="aa">
					<p class="imgTitle">Theory</p>
					<p class="imgText">Music theory topics and </p>
					<img src="Theory-marius-masalar-rPOmLGwai2w-unsplash.jpg">
				</a>
			</div>
			<div class="gridItem">
				<a href="/BuddyBands">
					<p class="imgTitle">BuddyBands</p>
					<p class="imgText">A selection of general discussions topics</p>
					<img src="BuddyBands-john-matychuk-gUK3lA3K7Yo-unsplash.jpg">
				</a>
			</div>
		</div>
		<h3> New topic !</h3>
		<form>
			<div class="form-group">
				<input id="topic-title" type="form-control" name="title" placeholder="Please enter a topic title" size="47"/>
			</div>
			<div class="form-group">
				<textarea id="topic-content" type="form-control" name="description" placeholder="Please enter your topic description" rows="2" cols="50"></textarea>
			</div>
			<div class="form-group">
				<select id="category" name="category" type="form-control">
					<option value="General">General</option>
					<option value="Instruments">Instruments</option>
					<option value="Theory">Theory</option>
					<option value="BuddyBands">BuddyBands</option>
				</select>
			</div>
			<button class="new-topic btn btn-primary">Create!</button>
<!-- We still need the alert -->
		</form>
	</div>
</template>
	<!-- End of the newTopic template -->



	<!-- Beginning of the singleTopic template that will be the same for every topic created -->
<template name="singleTopic">
	{{>sideNav}}
	<div class="fixedPart">
			<!-- First a quick sum up of the single topic selected -->
		<div>
			<h1>{{title}}</h1>
			<hr class="solid">
			<h4>Category: {{category}}</h4>
			<p>Date of creation: {{createdAt}}</p>
			<p>Created by: {{getUser createdBy}}</p>
<!-- We need an if statement for the owner to be able to change the description (collection update) -->
			<p>Description: {{description}}</p>
			<hr class="dashed">
		</div>
			<!-- In second the comment form -->
		<h3>Comments:</h3>
		<form>
			<label for="topic-comment" style="vertical-align:middle">Feel free to add a comment: </label>
			<textarea id="topic-comment" type="text" class="new-comment" name="commentary" placeholder="Please enter your comment here" rows="5" cols="42"></textarea>
			<button class="new-comment btn btn-info">Send!</button>
		</form>
	</div>
			<!-- Finally all the comments for this single topic -->
	<div class="scrollingPart singleTopicScroll">
	{{> commentFeed}}
	</div>
</template>
	<!-- End of the singleTopic template -->

	<!-- Then the comment list -->
<template name="commentFeed">
	<!-- Now to iterate every topics of the database by calling the topic template -->
	<ul>
		{{#each comments}}
			{{> comment}}
		{{/each}}
	</ul>
</template>

	<!-- Now the comment template for the comment list above -->
<template name="comment">
	<p><b>User: </b>{{createdBy}}</p>
	<p><b>Created on: </b>{{createdAt}}</p>
	<p><b>Comment:</b></p>
	<p>{{commentary}}</p>
	<hr class="dotted">
</template>
	<!-- End of the comment template and of the single topic group of templates -->








<!-- 
https://en.wikipedia.org/wiki/Symphony_No._5_(Beethoven)#cite_ref-47
https://commons.wikimedia.org/wiki/Category:Symphony_No._5_(Beethoven)


<img class="rightImage" src="https://upload.wikimedia.org/wikipedia/commons/c/c5/FClef.svg">
<img class="leftImage" src="https://upload.wikimedia.org/wikipedia/commons/f/ff/GClef.svg">		
		-->

<!-- general : By Davide Restivo - https://www.flickr.com/photos/somemixedstuff/2897763743/, CC BY-SA 2.0, https://commons.wikimedia.org/w/index.php?curid=5518099 -->
<!-- instrument photo : By Karl Ragnar Gjertsen KrgThis photo was taken by Karl Ragnar Gjertsen.Please credit this photo Karl Ragnar Gjertsen in the immediate vicinity of the image. - Own work, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=85710551-->
<!-- theory photo : Beethoven, Ludwig van (1770 - 1827), Public domain, via Wikimedia Commons -->
<!-- buddybands : Unknown authorUnknown author, Public domain, via Wikimedia Commons -->
<!-- G key: っ, Public domain, via Wikimedia Commons -->
<!-- F key : Par っ — Travail personnel, CC BY 2.5, https://commons.wikimedia.org/w/index.php?curid=736452 -->













<!-- End of the MusicBuddy HTML code -->